# Story 2.12: Dark Mode Support (System Preference)

**Epic**: Epic 2 - Dashboard Action-First Experience  
**Story Points**: 2  
**Status**: Draft

---

## Story

**As a** user,  
**I want** dark mode based on system preference,  
**so that** UI matches my OS theme.

---

## Acceptance Criteria

1. **AC1**: Detection: CSS `prefers-color-scheme: dark`
2. **AC2**: Colors: Use `globals.css` `.dark` oklch variables
3. **AC3**: Toggle: System preference only (no manual toggle MVP - post-MVP)
4. **AC4**: Components: All Shadcn components auto-adapt (built-in dark mode)
5. **AC5**: Test: Verify both light and dark mode render correctly

---

## Tasks / Subtasks

- [ ] Ensure `globals.css` has `.dark` color definitions
- [ ] Add `class="dark"` to `<html>` when system prefers dark
- [ ] Verify all Shadcn components adapt correctly
- [ ] Test manually: Toggle system preference, verify UI updates
- [ ] No manual toggle needed (MVP scope)

---

## Dev Notes

**Dark Mode Detection**:
```typescript
// app/layout.tsx
export default function RootLayout() {
  return (
    <html lang="en" className="dark:bg-background">
      <body className="bg-background text-foreground">
        {children}
      </body>
    </html>
  );
}
```

**Tailwind Config**:
```javascript
// tailwind.config.ts
export default {
  darkMode: 'class', // Use .dark class
  // ...
}
```

**CSS Variables** (already defined in `globals.css`):
```css
:root {
  --background: oklch(1 0 0); /* White */
  --foreground: oklch(0.147 0.004 49.25); /* Black */
}

.dark {
  --background: oklch(0.147 0.004 49.25); /* Black */
  --foreground: oklch(0.98 0 0); /* White */
}
```

**Shadcn Components**:
- All components use CSS variables (`bg-background`, `text-foreground`)
- Automatically adapt to `.dark` class
- No custom dark mode styles needed

---

## Testing

- Manual: Toggle macOS/Windows dark mode, verify UI
- Screenshot test: Capture light + dark mode

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-13 | 1.0 | Story created | Sarah (PO) |
